{"version":3,"sources":["./src/app/city/city.page.html","./src/app/city/modal/modal.page.html","./src/app/city/city.module.ts","./src/app/city/city.page.scss","./src/app/city/city.page.ts","./src/app/city/city.service.ts","./src/app/city/modal/modal.module.ts","./src/app/city/modal/modal.page.scss","./src/app/city/modal/modal.page.ts"],"names":[],"mappings":"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","file":"city-city-module.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-menu-button></ion-menu-button>\\n    </ion-buttons>\\n    <ion-title>\\n      Taxi do Barba\\n    </ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content [formGroup]=\\\"form\\\">\\n  <ion-item>\\n    <ion-label>Data</ion-label>\\n    <ion-datetime\\n      display-format=\\\"DD/MM/YYYY\\\"\\n      picker-format=\\\"DD/MM/YYYY\\\"\\n      formControlName=\\\"date\\\"\\n    ></ion-datetime>\\n  </ion-item>\\n\\n  <ion-item>\\n    <ion-label>Motorista</ion-label>\\n    <ion-select placeholder=\\\"Selecione\\\" formControlName=\\\"driver\\\">\\n      <ion-select-option *ngFor=\\\"let item of drivers\\\" value=\\\"{{item.id}}\\\">{{item.name}}</ion-select-option>\\n    </ion-select>\\n  </ion-item>\\n\\n  <ion-item>\\n    <ion-label>Carro</ion-label>\\n    <ion-select placeholder=\\\"Selecione\\\" formControlName=\\\"car\\\">\\n      <ion-select-option *ngFor=\\\"let item of cars\\\" value=\\\"{{item.id}}\\\">{{item.name}}</ion-select-option>\\n    </ion-select>\\n  </ion-item>\\n\\n  <ion-item>\\n    <ion-label>KM Inicial</ion-label>\\n    <ion-input type=\\\"number\\\" formControlName=\\\"startKm\\\"></ion-input>\\n  </ion-item>\\n\\n  <ion-item>\\n    <ion-label>KM Final</ion-label>\\n    <ion-input type=\\\"number\\\" formControlName=\\\"endKm\\\"></ion-input>\\n  </ion-item>\\n\\n  <ion-item>\\n    <ion-label>Outros KM</ion-label>\\n    <ion-input type=\\\"number\\\" formControlName=\\\"otherKm\\\"></ion-input>\\n  </ion-item>\\n\\n  <ion-item>\\n    <ion-label>Total Recebido</ion-label>\\n    <ion-input type=\\\"number\\\" formControlName=\\\"totalReceived\\\"></ion-input>\\n  </ion-item>\\n\\n  <ion-item>\\n    <ion-button (click)=\\\"form.reset()\\\">Limpar</ion-button>\\n    <ion-button (click)=\\\"save()\\\" [disabled]=\\\"!form.valid\\\">Salvar</ion-button>\\n  </ion-item>\\n</ion-content>\\n\"","export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-menu-button></ion-menu-button>\\n    </ion-buttons>\\n    <ion-title>\\n      Taxi do Barba\\n    </ion-title>\\n    <ion-buttons slot=\\\"end\\\">\\n      <ion-button (click)=\\\"close()\\\">Fechar</ion-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <ion-item>\\n    <ion-label>Data</ion-label>\\n    <ion-label>{{response.date}}</ion-label>\\n  </ion-item>\\n\\n  <ion-item>\\n    <ion-label>Motorista</ion-label>\\n    <ion-label>{{response.driver.name}}</ion-label>\\n  </ion-item>\\n\\n  <ion-item>\\n    <ion-label>Carro</ion-label>\\n    <ion-label>{{response.car.name}}</ion-label>\\n  </ion-item>\\n\\n  <ion-item>\\n    <ion-label>KM Inicial</ion-label>\\n    <ion-label>{{response.startKm}}</ion-label>\\n  </ion-item>\\n\\n  <ion-item>\\n    <ion-label>KM Final</ion-label>\\n    <ion-label>{{response.endKm}}</ion-label>\\n  </ion-item>\\n\\n  <ion-item>\\n    <ion-label>Outros KM</ion-label>\\n    <ion-label>{{response.otherKm}}</ion-label>\\n  </ion-item>\\n\\n  <ion-item>\\n    <ion-label>KM Utilizado</ion-label>\\n    <ion-label>{{response.km}}</ion-label>\\n  </ion-item>\\n\\n  <ion-item>\\n    <ion-label>Diferen√ßa</ion-label>\\n    <ion-label>{{response.difference}}</ion-label>\\n  </ion-item>\\n\\n  <ion-item>\\n    <ion-label>Total Recebido</ion-label>\\n    <ion-label>{{response.totalReceived}}</ion-label>\\n  </ion-item>\\n</ion-content>\\n\"","import { NgModule } from \"@angular/core\";\nimport { CommonModule } from \"@angular/common\";\nimport { FormsModule, ReactiveFormsModule } from \"@angular/forms\";\nimport { Routes, RouterModule } from \"@angular/router\";\n\nimport { IonicModule } from \"@ionic/angular\";\n\nimport { CityPage } from \"./city.page\";\nimport { CityService } from \"./city.service\";\nimport { HttpClientModule } from \"@angular/common/http\";\nimport { CarService } from \"../service/car.service\";\nimport { DriverService } from \"../service/driver.service\";\nimport { ModalPage } from \"./modal/modal.page\";\nimport { ModalPageModule } from \"./modal/modal.module\";\n\nconst routes: Routes = [\n  {\n    path: \"\",\n    component: CityPage\n  },\n  {\n    path: \":id\",\n    component: CityPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes),\n    ReactiveFormsModule,\n    HttpClientModule,\n    ModalPageModule\n  ],\n  declarations: [CityPage],\n  providers: [CityService, DriverService, CarService],\n  entryComponents: [ModalPage]\n})\nexport class CityPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NpdHkvY2l0eS5wYWdlLnNjc3MifQ== */\"","import { Component, OnInit } from \"@angular/core\";\nimport { CityService } from \"./city.service\";\nimport { FormGroup, FormBuilder, Validators } from \"@angular/forms\";\nimport { DriverService } from \"../service/driver.service\";\nimport { CarService } from \"../service/car.service\";\nimport * as moment from \"moment\";\nimport { ModalController } from \"@ionic/angular\";\nimport { ModalPage } from \"./modal/modal.page\";\nimport { ActivatedRoute } from \"@angular/router\";\nimport { CommonCashRegister } from \"../page/common-cash-register.page\";\n\n@Component({\n  selector: \"app-city\",\n  templateUrl: \"./city.page.html\",\n  styleUrls: [\"./city.page.scss\"]\n})\nexport class CityPage extends CommonCashRegister implements OnInit {\n  drivers: Array<Driver>;\n  cars: Array<Car>;\n  form: FormGroup;\n\n  constructor(\n    public _driverService: DriverService,\n    public _carService: CarService,\n    private _formBuilder: FormBuilder,\n    private _cityService: CityService,\n    private _modalController: ModalController,\n    private _route: ActivatedRoute\n  ) {\n    super(_driverService, _carService);\n  }\n\n  ngOnInit() {\n    this.form = this._formBuilder.group({\n      date: [new Date().toISOString(), Validators.required],\n      driver: [null, Validators.required],\n      car: [null, Validators.required],\n      startKm: [null, Validators.required],\n      endKm: [null, Validators.required],\n      otherKm: [null, Validators.required],\n      totalReceived: [null, Validators.required]\n    });\n    this.getDrivers();\n    this.getCars();\n    this.updateForm();\n  }\n\n  updateForm() {\n    let id = this._route.snapshot.paramMap.get(\"id\");\n    if (id !== null) {\n      this._cityService.get(id).subscribe(suc => {\n        this.form.patchValue({\n          date: suc.date,\n          driver: this.formatObject(suc.driver),\n          car: this.formatObject(suc.car),\n          startKm: suc.startKm,\n          endKm: suc.endKm,\n          otherKm: suc.otherKm,\n          totalReceived: suc.totalReceived\n        });\n      });\n    }\n  }\n\n  formatObject(object) {\n    if (object === null) {\n      return null;\n    }\n    return object.id;\n  }\n\n  save() {\n    this.form.value.date = moment(this.form.value.date).format(\"YYYY-MM-DD\");\n    let id = this._route.snapshot.paramMap.get(\"id\");\n    if (id === null) {\n      this._cityService.save(this.form.value).subscribe(suc => {\n        this.presentModal(suc);\n        this.form.reset();\n      });\n    } else {\n      this._cityService.update(id, this.form.value).subscribe(suc => {\n        this.presentModal(suc);\n        this.form.reset();\n      });\n    }\n    \n  }\n\n  async presentModal(response: CityResponse) {\n    const modal = await this._modalController.create({\n      component: ModalPage,\n      componentProps: { response }\n    });\n    return await modal.present();\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { environment } from 'src/environments/environment';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class CityService {\n\n  url = environment.baseUrl + '/api/v1/cash/city';\n  HEADERS = new HttpHeaders().set('Content-Type', 'application/json');\n  \n  constructor(private _httpClient: HttpClient) { }\n\n  save(data) {\n    return this._httpClient.post<CityResponse>(this.url, data, {\n      headers: this.HEADERS\n    });\n  }\n\n  update(id, data) {\n    return this._httpClient.put<CityResponse>(`${this.url}/${id}`, data, {\n      headers: this.HEADERS\n    });\n  }\n\n  get(id) {\n    return this._httpClient.get<CityResponse>(`${this.url}/${id}`, {\n      headers: this.HEADERS\n    });\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ModalPage } from './modal.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n  ],\n  declarations: [ModalPage]\n})\nexport class ModalPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NpdHkvbW9kYWwvbW9kYWwucGFnZS5zY3NzIn0= */\"","import { Component, OnInit } from '@angular/core';\nimport { NavParams, ModalController } from '@ionic/angular';\n\n@Component({\n  selector: 'app-modal',\n  templateUrl: './modal.page.html',\n  styleUrls: ['./modal.page.scss'],\n})\nexport class ModalPage implements OnInit {\n\n  response: any;\n\n  constructor(navParams: NavParams, private _modalController: ModalController) { \n    this.response = navParams.data;\n  }\n  \n  ngOnInit() {\n  }\n\n  public async close() {\n    const modal = await this._modalController.getTop();\n    modal.dismiss();\n  }\n}\n"],"sourceRoot":"webpack:///"}