{"version":3,"sources":["./src/app/travel/modal/modal.page.html","./src/app/travel/travel.page.html","./src/app/travel/modal/modal.module.ts","./src/app/travel/modal/modal.page.scss","./src/app/travel/modal/modal.page.ts","./src/app/travel/travel.module.ts","./src/app/travel/travel.page.scss","./src/app/travel/travel.page.ts","./src/app/travel/travel.service.ts"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAe,ydAA0Z,eAAe,oGAAoG,sBAAsB,gGAAgG,mBAAmB,gGAAgG,eAAe,uGAAuG,aAAa,mGAAmG,yBAAyB,gGAAgG,gBAAgB,0GAA0G,sBAAsB,wGAAwG,mBAAmB,8C;;;;;;;;;;;;ACA/2C;AAAe,wuBAAyqB,SAAS,KAAK,WAAW,2PAA2P,SAAS,KAAK,WAAW,qqB;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACA57B;AACM;AACF;AAGA;AAEJ;AAUzC;IAAA;IAA8B,CAAC;IAAlB,eAAe;QAR3B,8DAAQ,CAAC;YACR,OAAO,EAAE;gBACP,4DAAY;gBACZ,0DAAW;gBACX,0DAAW;aACZ;YACD,YAAY,EAAE,CAAC,qDAAS,CAAC;SAC1B,CAAC;OACW,eAAe,CAAG;IAAD,sBAAC;CAAA;AAAH;;;;;;;;;;;;;ACjB5B;AAAe,6GAA8C,+I;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAX;AACU;AAO5D;IAIE,mBAAY,SAAoB,EAAU,gBAAiC;QAAjC,qBAAgB,GAAhB,gBAAgB,CAAiB;QACzE,IAAI,CAAC,QAAQ,GAAG,SAAS,CAAC,IAAI,CAAC;IACjC,CAAC;IAED,4BAAQ,GAAR;IACA,CAAC;IAEY,yBAAK,GAAlB;;;;;4BACgB,qBAAM,IAAI,CAAC,gBAAgB,CAAC,MAAM,EAAE;;wBAA5C,KAAK,GAAG,SAAoC;wBAClD,KAAK,CAAC,OAAO,EAAE,CAAC;;;;;KACjB;;gBAVsB,wDAAS;gBAA4B,8DAAe;;IAJhE,SAAS;QALrB,+DAAS,CAAC;YACT,QAAQ,EAAE,WAAW;YACrB,0KAAgC;;SAEjC,CAAC;yCAKuB,wDAAS,EAA4B,8DAAe;OAJhE,SAAS,CAgBrB;IAAD,gBAAC;CAAA;AAhBqB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACRmB;AACM;AACmB;AACX;AAEV;AAEF;AACa;AACE;AACN;AACH;AACM;AACR;AAE/C,IAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,uDAAU;KACtB;IACD;QACE,IAAI,EAAE,KAAK;QACX,SAAS,EAAE,uDAAU;KACtB;CACF,CAAC;AAoBF;IAAA;IAA+B,CAAC;IAAnB,gBAAgB;QAlB5B,8DAAQ,CAAC;YACR,OAAO,EAAE;gBACP,4DAAY;gBACZ,0DAAW;gBACX,0DAAW;gBACX,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC;gBAC7B,kEAAmB;gBACnB,qEAAgB;gBAChB,oEAAe;aAChB;YACD,YAAY,EAAE,CAAC,uDAAU,CAAC;YAC1B,SAAS,EAAE;gBACT,6DAAa;gBACb,qEAAa;gBACb,+DAAU;aACX;YACD,eAAe,EAAE,CAAC,4DAAS,CAAC;SAC7B,CAAC;OACW,gBAAgB,CAAG;IAAD,uBAAC;CAAA;AAAH;;;;;;;;;;;;;AC5C7B;AAAe,6GAA8C,uI;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAX;AACkB;AAChB;AACM;AACT;AACA;AAChB;AACc;AACE;AACsB;AAOvE;IAAgC,8BAAkB;IAMhD,oBACS,cAA6B,EAC7B,WAAuB,EACtB,YAAyB,EACzB,cAA6B,EAC7B,gBAAiC,EACjC,MAAsB;QANhC,YAQE,kBAAM,cAAc,EAAE,WAAW,CAAC,SACnC;QARQ,oBAAc,GAAd,cAAc,CAAe;QAC7B,iBAAW,GAAX,WAAW,CAAY;QACtB,kBAAY,GAAZ,YAAY,CAAa;QACzB,oBAAc,GAAd,cAAc,CAAe;QAC7B,sBAAgB,GAAhB,gBAAgB,CAAiB;QACjC,YAAM,GAAN,MAAM,CAAgB;;IAGhC,CAAC;IAED,6BAAQ,GAAR;QACE,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC;YAClC,IAAI,EAAE,CAAC,IAAI,IAAI,EAAE,CAAC,WAAW,EAAE,EAAE,yDAAU,CAAC,QAAQ,CAAC;YACrD,MAAM,EAAE,CAAC,IAAI,EAAE,yDAAU,CAAC,QAAQ,CAAC;YACnC,GAAG,EAAE,CAAC,IAAI,EAAE,yDAAU,CAAC,QAAQ,CAAC;YAChC,EAAE,EAAE,CAAC,IAAI,EAAE,yDAAU,CAAC,QAAQ,CAAC;YAC/B,KAAK,EAAE,CAAC,IAAI,EAAE,yDAAU,CAAC,QAAQ,CAAC;YAClC,IAAI,EAAE,CAAC,IAAI,EAAE,yDAAU,CAAC,QAAQ,CAAC;SAClC,CAAC,CAAC;QACH,IAAI,CAAC,UAAU,EAAE,CAAC;QAClB,IAAI,CAAC,OAAO,EAAE,CAAC;QACf,IAAI,CAAC,UAAU,EAAE,CAAC;IACpB,CAAC;IAED,+BAAU,GAAV;QAAA,iBAcC;QAbC,IAAI,EAAE,GAAG,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,QAAQ,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;QACjD,IAAI,EAAE,KAAK,IAAI,EAAE;YACf,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,SAAS,CAAC,aAAG;gBACvC,KAAI,CAAC,IAAI,CAAC,UAAU,CAAC;oBACnB,IAAI,EAAE,GAAG,CAAC,IAAI;oBACd,MAAM,EAAE,KAAI,CAAC,YAAY,CAAC,GAAG,CAAC,MAAM,CAAC;oBACrC,GAAG,EAAE,KAAI,CAAC,YAAY,CAAC,GAAG,CAAC,GAAG,CAAC;oBAC/B,EAAE,EAAE,GAAG,CAAC,EAAE;oBACV,KAAK,EAAE,GAAG,CAAC,KAAK;oBAChB,IAAI,EAAE,GAAG,CAAC,IAAI;iBACf,CAAC,CAAC;YACL,CAAC,CAAC,CAAC;SACJ;IACH,CAAC;IAED,yBAAI,GAAJ;QAAA,iBAcC;QAbC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,GAAG,mCAAM,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC;QACzE,IAAI,EAAE,GAAG,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,QAAQ,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;QACjD,IAAI,EAAE,KAAK,IAAI,EAAE;YACf,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,SAAS,CAAC,aAAG;gBACrD,KAAI,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC;gBACvB,KAAI,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC;YACpB,CAAC,CAAC,CAAC;SACJ;aAAM;YACL,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,EAAE,EAAE,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,SAAS,CAAC,aAAG;gBAC3D,KAAI,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC;gBACvB,KAAI,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC;YACpB,CAAC,CAAC,CAAC;SACJ;IACH,CAAC;IAEK,iCAAY,GAAlB,UAAmB,QAAwB;;;;;4BAC3B,qBAAM,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC;4BAC/C,SAAS,EAAE,2DAAS;4BACpB,cAAc,EAAE,EAAE,QAAQ,YAAE;yBAC7B,CAAC;;wBAHI,KAAK,GAAG,SAGZ;wBACK,qBAAM,KAAK,CAAC,OAAO,EAAE;4BAA5B,sBAAO,SAAqB,EAAC;;;;KAC9B;;gBA9DwB,qEAAa;gBAChB,+DAAU;gBACR,0DAAW;gBACT,6DAAa;gBACX,8DAAe;gBACzB,8DAAc;;IAZrB,UAAU;QALtB,+DAAS,CAAC;YACT,QAAQ,EAAE,YAAY;YACtB,sKAAiC;;SAElC,CAAC;yCAQyB,qEAAa;YAChB,+DAAU;YACR,0DAAW;YACT,6DAAa;YACX,8DAAe;YACzB,8DAAc;OAZrB,UAAU,CAsEtB;IAAD,iBAAC;CAAA,CAtE+B,kFAAkB,GAsEjD;AAtEsB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AChBoB;AACoB;AACJ;AAK3D;IAKE,uBAAoB,WAAuB;QAAvB,gBAAW,GAAX,WAAW,CAAY;QAH3C,QAAG,GAAG,wEAAW,CAAC,OAAO,GAAG,qBAAqB,CAAC;QAClD,YAAO,GAAG,IAAI,gEAAW,EAAE,CAAC,GAAG,CAAC,cAAc,EAAE,kBAAkB,CAAC,CAAC;IAErB,CAAC;IAEhD,4BAAI,GAAJ,UAAK,IAAI;QACP,OAAO,IAAI,CAAC,WAAW,CAAC,IAAI,CAAiB,IAAI,CAAC,GAAG,EAAE,IAAI,EAAE;YAC3D,OAAO,EAAE,IAAI,CAAC,OAAO;SACtB,CAAC,CAAC;IACL,CAAC;IAED,8BAAM,GAAN,UAAO,EAAE,EAAE,IAAI;QACb,OAAO,IAAI,CAAC,WAAW,CAAC,GAAG,CAAoB,IAAI,CAAC,GAAG,SAAI,EAAI,EAAE,IAAI,EAAE;YACrE,OAAO,EAAE,IAAI,CAAC,OAAO;SACtB,CAAC,CAAC;IACL,CAAC;IAED,2BAAG,GAAH,UAAI,EAAE;QACJ,OAAO,IAAI,CAAC,WAAW,CAAC,GAAG,CAAoB,IAAI,CAAC,GAAG,SAAI,EAAI,EAAE;YAC/D,OAAO,EAAE,IAAI,CAAC,OAAO;SACtB,CAAC,CAAC;IACL,CAAC;;gBAlBgC,+DAAU;;IALhC,aAAa;QAHzB,gEAAU,CAAC;YACV,UAAU,EAAE,MAAM;SACnB,CAAC;yCAMiC,+DAAU;OALhC,aAAa,CAwBzB;IAAD,oBAAC;CAAA;AAxByB","file":"travel-travel-module.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-menu-button></ion-menu-button>\\n    </ion-buttons>\\n    <ion-title>\\n      Taxi do Barba\\n    </ion-title>\\n    <ion-buttons slot=\\\"end\\\">\\n      <ion-button (click)=\\\"close()\\\">Fechar</ion-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <ion-item>\\n    <ion-label>Data</ion-label>\\n    <ion-label>{{response.date}}</ion-label>\\n  </ion-item>\\n\\n  <ion-item>\\n    <ion-label>Motorista</ion-label>\\n    <ion-label>{{response.driver.name}}</ion-label>\\n  </ion-item>\\n\\n  <ion-item>\\n    <ion-label>Carro</ion-label>\\n    <ion-label>{{response.car.name}}</ion-label>\\n  </ion-item>\\n\\n  <ion-item>\\n    <ion-label>Carro</ion-label>\\n    <ion-label>{{response.city}}</ion-label>\\n  </ion-item>\\n\\n  <ion-item>\\n    <ion-label>KM Utilizado</ion-label>\\n    <ion-label>{{response.km}}</ion-label>\\n  </ion-item>\\n\\n  <ion-item>\\n    <ion-label>Valor KM</ion-label>\\n    <ion-label>{{response.averagePriceKm}}</ion-label>\\n  </ion-item>\\n\\n  <ion-item>\\n    <ion-label>Preço</ion-label>\\n    <ion-label>{{response.price}}</ion-label>\\n  </ion-item>\\n\\n  <ion-item>\\n    <ion-label>Valor Motorista</ion-label>\\n    <ion-label>{{response.valueDriver}}</ion-label>\\n  </ion-item>\\n\\n  <ion-item>\\n    <ion-label>Valor Líquido</ion-label>\\n    <ion-label>{{response.netValue}}</ion-label>\\n  </ion-item>\\n</ion-content>\\n\"","export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-menu-button></ion-menu-button>\\n    </ion-buttons>\\n    <ion-title>\\n      Taxi do Barba\\n    </ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content [formGroup]=\\\"form\\\">\\n    <ion-item>\\n      <ion-label>Data</ion-label>\\n      <ion-datetime\\n        display-format=\\\"DD/MM/YYYY\\\"\\n        picker-format=\\\"DD/MM/YYYY\\\"\\n        formControlName=\\\"date\\\"\\n      ></ion-datetime>\\n    </ion-item>\\n  \\n    <ion-item>\\n      <ion-label>Motorista</ion-label>\\n      <ion-select placeholder=\\\"Selecione\\\" formControlName=\\\"driver\\\">\\n        <ion-select-option *ngFor=\\\"let item of drivers\\\" value=\\\"{{item.id}}\\\">{{item.name}}</ion-select-option>\\n      </ion-select>\\n    </ion-item>\\n  \\n    <ion-item>\\n      <ion-label>Carro</ion-label>\\n      <ion-select placeholder=\\\"Selecione\\\" formControlName=\\\"car\\\">\\n        <ion-select-option *ngFor=\\\"let item of cars\\\" value=\\\"{{item.id}}\\\">{{item.name}}</ion-select-option>\\n      </ion-select>\\n    </ion-item>\\n  \\n    <ion-item>\\n      <ion-label>Cidade</ion-label>\\n      <ion-input formControlName=\\\"city\\\"></ion-input>\\n    </ion-item>\\n\\n    <ion-item>\\n      <ion-label>KM</ion-label>\\n      <ion-input type=\\\"number\\\" formControlName=\\\"km\\\"></ion-input>\\n    </ion-item>\\n  \\n    <ion-item>\\n      <ion-label>Preço</ion-label>\\n      <ion-input type=\\\"number\\\" formControlName=\\\"price\\\"></ion-input>\\n    </ion-item>\\n  \\n    <ion-item>\\n      <ion-button (click)=\\\"form.reset()\\\">Limpar</ion-button>\\n      <ion-button (click)=\\\"save()\\\" [disabled]=\\\"!form.valid\\\">Salvar</ion-button>\\n    </ion-item>\\n  </ion-content>\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ModalPage } from './modal.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n  ],\n  declarations: [ModalPage]\n})\nexport class ModalPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3RyYXZlbC9tb2RhbC9tb2RhbC5wYWdlLnNjc3MifQ== */\"","import { Component, OnInit } from '@angular/core';\nimport { NavParams, ModalController } from '@ionic/angular';\n\n@Component({\n  selector: 'app-modal',\n  templateUrl: './modal.page.html',\n  styleUrls: ['./modal.page.scss'],\n})\nexport class ModalPage implements OnInit {\n\n  response: any;\n\n  constructor(navParams: NavParams, private _modalController: ModalController) { \n    this.response = navParams.data;\n  }\n  \n  ngOnInit() {\n  }\n\n  public async close() {\n    const modal = await this._modalController.getTop();\n    modal.dismiss();\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { TravelPage } from './travel.page';\nimport { HttpClientModule } from '@angular/common/http';\nimport { DriverService } from '../service/driver.service';\nimport { CarService } from '../service/car.service';\nimport { TravelService } from './travel.service';\nimport { ModalPageModule } from './modal/modal.module';\nimport { ModalPage } from './modal/modal.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: TravelPage\n  },\n  {\n    path: ':id',\n    component: TravelPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes),\n    ReactiveFormsModule,\n    HttpClientModule,\n    ModalPageModule\n  ],\n  declarations: [TravelPage],\n  providers: [\n    TravelService,\n    DriverService,\n    CarService,\n  ],\n  entryComponents: [ModalPage]\n})\nexport class TravelPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3RyYXZlbC90cmF2ZWwucGFnZS5zY3NzIn0= */\"","import { Component, OnInit } from \"@angular/core\";\nimport { FormGroup, FormBuilder, Validators } from \"@angular/forms\";\nimport { CarService } from \"../service/car.service\";\nimport { DriverService } from \"../service/driver.service\";\nimport { TravelService } from \"./travel.service\";\nimport { ModalController } from \"@ionic/angular\";\nimport * as moment from \"moment\";\nimport { ModalPage } from \"./modal/modal.page\";\nimport { ActivatedRoute } from \"@angular/router\";\nimport { CommonCashRegister } from \"../page/common-cash-register.page\";\n\n@Component({\n  selector: \"app-travel\",\n  templateUrl: \"./travel.page.html\",\n  styleUrls: [\"./travel.page.scss\"]\n})\nexport class TravelPage extends CommonCashRegister implements OnInit {\n  form: FormGroup;\n  response: TravelResponse;\n  drivers: Array<Driver>;\n  cars: Array<Car>;\n\n  constructor(\n    public _driverService: DriverService,\n    public _carService: CarService,\n    private _formBuilder: FormBuilder,\n    private _travelService: TravelService,\n    private _modalController: ModalController,\n    private _route: ActivatedRoute\n  ) {\n    super(_driverService, _carService);\n  }\n\n  ngOnInit() {\n    this.form = this._formBuilder.group({\n      date: [new Date().toISOString(), Validators.required],\n      driver: [null, Validators.required],\n      car: [null, Validators.required],\n      km: [null, Validators.required],\n      price: [null, Validators.required],\n      city: [null, Validators.required]\n    });\n    this.getDrivers();\n    this.getCars();\n    this.updateForm();\n  }\n\n  updateForm() {\n    let id = this._route.snapshot.paramMap.get(\"id\");\n    if (id !== null) {\n      this._travelService.get(id).subscribe(suc => {\n        this.form.patchValue({\n          date: suc.date,\n          driver: this.formatObject(suc.driver),\n          car: this.formatObject(suc.car),\n          km: suc.km,\n          price: suc.price,\n          city: suc.city\n        });\n      });\n    }\n  }\n\n  save() {\n    this.form.value.date = moment(this.form.value.date).format(\"YYYY-MM-DD\");\n    let id = this._route.snapshot.paramMap.get(\"id\");\n    if (id === null) {\n      this._travelService.save(this.form.value).subscribe(suc => {\n        this.presentModal(suc);\n        this.form.reset();\n      });\n    } else {\n      this._travelService.update(id, this.form.value).subscribe(suc => {\n        this.presentModal(suc);\n        this.form.reset();\n      });\n    }\n  }\n\n  async presentModal(response: TravelResponse) {\n    const modal = await this._modalController.create({\n      component: ModalPage,\n      componentProps: { response }\n    });\n    return await modal.present();\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { environment } from 'src/environments/environment';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class TravelService {\n\n  url = environment.baseUrl + '/api/v1/cash/travel';\n  HEADERS = new HttpHeaders().set('Content-Type', 'application/json');\n\n  constructor(private _httpClient: HttpClient) { }\n\n  save(data) {\n    return this._httpClient.post<TravelResponse>(this.url, data, {\n      headers: this.HEADERS\n    });\n  }\n\n  update(id, data) {\n    return this._httpClient.put<TravelResponse>(`${this.url}/${id}`, data, {\n      headers: this.HEADERS\n    });\n  }\n\n  get(id) {\n    return this._httpClient.get<TravelResponse>(`${this.url}/${id}`, {\n      headers: this.HEADERS\n    });\n  }\n}\n"],"sourceRoot":"webpack:///"}